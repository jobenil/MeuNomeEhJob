{"title":"Para que serve o Teste de Hausman-McFadden?","markdown":{"yaml":{"title":"Para que serve o Teste de Hausman-McFadden?","author":"Jobenil J√∫nior","date":"2025-10-10","categories":["r-code","alfabetiza√ß√£o de dados","data literacy","teste","estat√≠stica"],"image":"images/generatedImage3.jpg"},"headingText":"üß∏ Imagine assim:","containsRefs":false,"markdown":"\n\n> Me explique como se eu fosse um beb√™ o que √© e para que serve o teste de Hausman-McFadden.\n\nRecentemente estive trabalhando em um problema e me deparei com uma d√∫vida sobre um teste estat√≠stico que tive que realizar. Apelei para o \\[ChatGPT\\](https://chatgpt.com) da *OpenAi Inc.* que me forneceu uma resposta t√£o boa que resolvi reproduz√≠-la aqui.\n\nPerfeito, Jobenil üòä ‚Äî vamos come√ßar bem simples, como se estiv√©ssemos brincando de explicar um conceito estat√≠stico para uma crian√ßa curiosa.\n\n\nTemos tr√™s brinquedos: um carrinho üöó, uma boneca üßç‚Äç‚ôÄÔ∏è e um avi√£ozinho ‚úàÔ∏è. E voc√™ pode escolher um s√≥ para brincar.\n\nAgora, pense que algumas crian√ßas escolhem o carrinho, outras a boneca, e outras o avi√£ozinho. Voc√™ quer entender por que cada uma escolhe o que escolhe. Pode ser por causa da cor, do tamanho, do barulho que faz, etc.\n\n## üß† O modelo que usamos\n\nPara estudar isso, usamos um modelo chamado **Logit Multinomial (MNL)** ‚Äî ele tenta prever a **probabilidade** de uma crian√ßa escolher cada brinquedo com base em caracter√≠sticas (das crian√ßas ou dos brinquedos).\n\nEsse modelo tem uma regra importante chamada **IIA** ‚Äî em ingl√™s, *Independence of Irrelevant Alternatives*, ou seja:\n\n> ‚ÄúA chance de escolher entre dois brinquedos n√£o muda se eu colocar um novo brinquedo parecido na caixa.‚Äù\n\n## Por exemplo:\n\nSe uma crian√ßa escolhe entre üöó e ‚úàÔ∏è, e gosta mais do carro, a rela√ß√£o entre carro e avi√£o n√£o deveria mudar s√≥ porque eu coloquei uma moto üèçÔ∏è nova na caixa.\n\nMas... ser√° que isso √© verdade na vida real?\n\n## üîç Entra o Teste de Hausman-McFadden\n\nO Teste de **Hausman-McFadden** (ou teste **H-M**) serve para verificar se essa regra **IIA** √© v√°lida no seu modelo.\n\nEle faz o seguinte:\n\n1.  Primeiro, o modelo √© estimado com **todas as op√ß√µes** (üöó, üßç‚Äç‚ôÄÔ∏è, ‚úàÔ∏è).\n\n2.  Depois, √© estimado **tirando uma das op√ß√µes** (por exemplo, sem o avi√£o ‚úàÔ∏è).\n\n3.  O teste compara os **coeficientes estimados** nos dois modelos.\n\nSe n√£o **houver diferen√ßa significativa**, quer dizer que:\n\n> As alternativas realmente s√£o independentes ‚Üí o modelo MNL √© adequado ‚úÖ\n\nMas se **houver diferen√ßa grande**, ent√£o:\n\n> As escolhas n√£o s√£o independentes ‚Üí o modelo MNL n√£o serve bem, e precisamos de um modelo mais flex√≠vel (como o Logit Aninhado, o nested logit) üö´\n\n## üéØ Em resumo:\n\n| Conceito | Explica√ß√£o ‚Äúde beb√™‚Äù |\n|-----------------------|-------------------------------------------------|\n| O que √©? | Um teste para ver se as op√ß√µes de escolha s√£o realmente independentes entre si. |\n| Por que serve? | Para saber se o modelo Logit Multinomial est√° ‚Äúpensando certo‚Äù ou est√° enganando a gente. |\n| Como faz isso? | Compara os resultados do modelo completo e de um modelo onde tiramos uma op√ß√£o. |\n| O que significa o resultado? | Se der diferente ‚Üí o modelo est√° violando a regra IIA. Se der igual ‚Üí o modelo √© adequado. |\n\n## üß© Um exemplo pr√°tico real:\n\nSuponha que estejamos estudando o modo de transporte que as pessoas escolhem para ir ao trabalho: üöó carro, üöå √¥nibus, üö≤ bicicleta, üö∂‚Äç‚ôÇÔ∏è a p√©.\n\nSe o teste Hausman-McFadden mostrar que tirar o √¥nibus muda os coeficientes do carro **e da bicicleta**, ent√£o significa que:\n\n> as escolhas n√£o s√£o independentes ‚Äî talvez quem pega √¥nibus tamb√©m escolheria metr√¥, se houvesse. Logo, o modelo Logit Multinomial simples n√£o √© o mais indicado.\n\nFizemos uma simula√ß√£o **em R**, onde tentamos representar uma situa√ß√£o pr√°tica ‚Äî o **modo de transporte para o trabalho** ‚Äî e aplicando o **teste de Hausman-McFadden** para verificar se a hip√≥tese de independ√™ncia das alternativas (IIA) √© v√°lida.\n\n## üöó Exemplo: Escolha do modo de transporte\n\nCom 4 alternativas poss√≠veis:\n\n-   **carro**\n\n-   **√¥nibus**\n\n-   **bicicleta**\n\n-   **a p√©**\n\nCada pessoa escolhe **um modo** para ir ao trabalho, dependendo de:\n\n-   tempo de viagem (`tempo`)\n\n-   custo da viagem (`custo`)\n\n-   renda mensal (`renda`)\n\n### üìä Interpreta√ß√£o do resultado\n\nO comando `hmftest()` retorna algo assim:\n\n```         \nHausman-McFadden test  data:  modelo_completo and modelo_sem_bike chisq = 5.42, df = 3, p-value = 0.143 \n```\n\n**Interpreta√ß√£o:**\n\n-   O **valor-p = 0.143** √© **maior que 0.05**,\\\n    o que nos indica que **n√£o rejeitamos H‚ÇÄ**, ou seja, que as alternativas s√£o independentes.\\\n    ‚úÖ O modelo **respeita a suposi√ß√£o de IIA**.\n\n-   Se o valor-p fosse **menor que 0.05**, ter√≠amos que rejeitar a hip√≥tese de independ√™ncia, indicando que as escolhas est√£o **correlacionadas** ‚Äî nesse caso, o **modelo Logistico Multinomial (MNL) n√£o seria apropriado**.\n\n![](images/probabilidades.png)\n\n## üß© Resumo did√°tico\n\n| Etapa | O que fizemos | Por qu√™ |\n|------------------|---------------------------|---------------------------|\n| 1Ô∏è‚É£ | Simulamos escolhas de transporte | Para ter dados realistas |\n| 2Ô∏è‚É£ | Montamos o modelo Logit Multinomial | Para estimar prefer√™ncias |\n| 3Ô∏è‚É£ | Retiramos uma alternativa | Para testar a regra de independ√™ncia |\n| 4Ô∏è‚É£ | Aplicamos o Teste de Hausman-McFadden | Para verificar a validade do modelo |\n| 5Ô∏è‚É£ | Interpretamos o p-valor | Para decidir se o modelo √© adequado |\n\nSe voc√™ quiser se aprofundar no assunto recomendo a leitura desse [artigo](https://statisticalhorizons.com/iia). Nele voc√™ encontrar√° outras refer√™ncias. Obrigado pela leitura!!!\n\nEDA \\| TESTE T \\| ENQUETES \\| ANOVA \\| MODELOS DE REGRESS√ÉO \\| AN√ÅLISE FATORIAL \\| MODELAGEM DE EQUA√á√ïES ESTRUTURAIS \\| TRI \\| RASCH MODELS \\| MACHINE LEARNING\n\n![](images/whatsapp_logo.png){width=\"20\" height=\"20\"} [**Prof. Jobenil J√∫nior**](https://wa.me/5562992138972)\n","srcMarkdownNoYaml":"\n\n> Me explique como se eu fosse um beb√™ o que √© e para que serve o teste de Hausman-McFadden.\n\nRecentemente estive trabalhando em um problema e me deparei com uma d√∫vida sobre um teste estat√≠stico que tive que realizar. Apelei para o \\[ChatGPT\\](https://chatgpt.com) da *OpenAi Inc.* que me forneceu uma resposta t√£o boa que resolvi reproduz√≠-la aqui.\n\nPerfeito, Jobenil üòä ‚Äî vamos come√ßar bem simples, como se estiv√©ssemos brincando de explicar um conceito estat√≠stico para uma crian√ßa curiosa.\n\n## üß∏ Imagine assim:\n\nTemos tr√™s brinquedos: um carrinho üöó, uma boneca üßç‚Äç‚ôÄÔ∏è e um avi√£ozinho ‚úàÔ∏è. E voc√™ pode escolher um s√≥ para brincar.\n\nAgora, pense que algumas crian√ßas escolhem o carrinho, outras a boneca, e outras o avi√£ozinho. Voc√™ quer entender por que cada uma escolhe o que escolhe. Pode ser por causa da cor, do tamanho, do barulho que faz, etc.\n\n## üß† O modelo que usamos\n\nPara estudar isso, usamos um modelo chamado **Logit Multinomial (MNL)** ‚Äî ele tenta prever a **probabilidade** de uma crian√ßa escolher cada brinquedo com base em caracter√≠sticas (das crian√ßas ou dos brinquedos).\n\nEsse modelo tem uma regra importante chamada **IIA** ‚Äî em ingl√™s, *Independence of Irrelevant Alternatives*, ou seja:\n\n> ‚ÄúA chance de escolher entre dois brinquedos n√£o muda se eu colocar um novo brinquedo parecido na caixa.‚Äù\n\n## Por exemplo:\n\nSe uma crian√ßa escolhe entre üöó e ‚úàÔ∏è, e gosta mais do carro, a rela√ß√£o entre carro e avi√£o n√£o deveria mudar s√≥ porque eu coloquei uma moto üèçÔ∏è nova na caixa.\n\nMas... ser√° que isso √© verdade na vida real?\n\n## üîç Entra o Teste de Hausman-McFadden\n\nO Teste de **Hausman-McFadden** (ou teste **H-M**) serve para verificar se essa regra **IIA** √© v√°lida no seu modelo.\n\nEle faz o seguinte:\n\n1.  Primeiro, o modelo √© estimado com **todas as op√ß√µes** (üöó, üßç‚Äç‚ôÄÔ∏è, ‚úàÔ∏è).\n\n2.  Depois, √© estimado **tirando uma das op√ß√µes** (por exemplo, sem o avi√£o ‚úàÔ∏è).\n\n3.  O teste compara os **coeficientes estimados** nos dois modelos.\n\nSe n√£o **houver diferen√ßa significativa**, quer dizer que:\n\n> As alternativas realmente s√£o independentes ‚Üí o modelo MNL √© adequado ‚úÖ\n\nMas se **houver diferen√ßa grande**, ent√£o:\n\n> As escolhas n√£o s√£o independentes ‚Üí o modelo MNL n√£o serve bem, e precisamos de um modelo mais flex√≠vel (como o Logit Aninhado, o nested logit) üö´\n\n## üéØ Em resumo:\n\n| Conceito | Explica√ß√£o ‚Äúde beb√™‚Äù |\n|-----------------------|-------------------------------------------------|\n| O que √©? | Um teste para ver se as op√ß√µes de escolha s√£o realmente independentes entre si. |\n| Por que serve? | Para saber se o modelo Logit Multinomial est√° ‚Äúpensando certo‚Äù ou est√° enganando a gente. |\n| Como faz isso? | Compara os resultados do modelo completo e de um modelo onde tiramos uma op√ß√£o. |\n| O que significa o resultado? | Se der diferente ‚Üí o modelo est√° violando a regra IIA. Se der igual ‚Üí o modelo √© adequado. |\n\n## üß© Um exemplo pr√°tico real:\n\nSuponha que estejamos estudando o modo de transporte que as pessoas escolhem para ir ao trabalho: üöó carro, üöå √¥nibus, üö≤ bicicleta, üö∂‚Äç‚ôÇÔ∏è a p√©.\n\nSe o teste Hausman-McFadden mostrar que tirar o √¥nibus muda os coeficientes do carro **e da bicicleta**, ent√£o significa que:\n\n> as escolhas n√£o s√£o independentes ‚Äî talvez quem pega √¥nibus tamb√©m escolheria metr√¥, se houvesse. Logo, o modelo Logit Multinomial simples n√£o √© o mais indicado.\n\nFizemos uma simula√ß√£o **em R**, onde tentamos representar uma situa√ß√£o pr√°tica ‚Äî o **modo de transporte para o trabalho** ‚Äî e aplicando o **teste de Hausman-McFadden** para verificar se a hip√≥tese de independ√™ncia das alternativas (IIA) √© v√°lida.\n\n## üöó Exemplo: Escolha do modo de transporte\n\nCom 4 alternativas poss√≠veis:\n\n-   **carro**\n\n-   **√¥nibus**\n\n-   **bicicleta**\n\n-   **a p√©**\n\nCada pessoa escolhe **um modo** para ir ao trabalho, dependendo de:\n\n-   tempo de viagem (`tempo`)\n\n-   custo da viagem (`custo`)\n\n-   renda mensal (`renda`)\n\n### üìä Interpreta√ß√£o do resultado\n\nO comando `hmftest()` retorna algo assim:\n\n```         \nHausman-McFadden test  data:  modelo_completo and modelo_sem_bike chisq = 5.42, df = 3, p-value = 0.143 \n```\n\n**Interpreta√ß√£o:**\n\n-   O **valor-p = 0.143** √© **maior que 0.05**,\\\n    o que nos indica que **n√£o rejeitamos H‚ÇÄ**, ou seja, que as alternativas s√£o independentes.\\\n    ‚úÖ O modelo **respeita a suposi√ß√£o de IIA**.\n\n-   Se o valor-p fosse **menor que 0.05**, ter√≠amos que rejeitar a hip√≥tese de independ√™ncia, indicando que as escolhas est√£o **correlacionadas** ‚Äî nesse caso, o **modelo Logistico Multinomial (MNL) n√£o seria apropriado**.\n\n![](images/probabilidades.png)\n\n## üß© Resumo did√°tico\n\n| Etapa | O que fizemos | Por qu√™ |\n|------------------|---------------------------|---------------------------|\n| 1Ô∏è‚É£ | Simulamos escolhas de transporte | Para ter dados realistas |\n| 2Ô∏è‚É£ | Montamos o modelo Logit Multinomial | Para estimar prefer√™ncias |\n| 3Ô∏è‚É£ | Retiramos uma alternativa | Para testar a regra de independ√™ncia |\n| 4Ô∏è‚É£ | Aplicamos o Teste de Hausman-McFadden | Para verificar a validade do modelo |\n| 5Ô∏è‚É£ | Interpretamos o p-valor | Para decidir se o modelo √© adequado |\n\nSe voc√™ quiser se aprofundar no assunto recomendo a leitura desse [artigo](https://statisticalhorizons.com/iia). Nele voc√™ encontrar√° outras refer√™ncias. Obrigado pela leitura!!!\n\nEDA \\| TESTE T \\| ENQUETES \\| ANOVA \\| MODELOS DE REGRESS√ÉO \\| AN√ÅLISE FATORIAL \\| MODELAGEM DE EQUA√á√ïES ESTRUTURAIS \\| TRI \\| RASCH MODELS \\| MACHINE LEARNING\n\n![](images/whatsapp_logo.png){width=\"20\" height=\"20\"} [**Prof. Jobenil J√∫nior**](https://wa.me/5562992138972)\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","editor":"visual","theme":"cosmo","title-block-banner":true,"title":"Para que serve o Teste de Hausman-McFadden?","author":"Jobenil J√∫nior","date":"2025-10-10","categories":["r-code","alfabetiza√ß√£o de dados","data literacy","teste","estat√≠stica"],"image":"images/generatedImage3.jpg"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}